<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FrontEnd</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>

<p class="text-center text-primary fs-1 fst-italic">Table</p>

<button type="button" class="btn btn-success" id="loadAllEventdata">Load All Data</button>

  <table class="table table-bordered border-primary" id="eventTable">

    <br> <br>
  <thead>
  <tr>
    <th scope="col">ID</th>
    <th scope="col">Name</th>
    <th scope="col">Description</th>
    <th scope="col">Date</th>
    <th scope="col">Place</th>
  </tr>
  </thead>
  <tbody>
  <tr></tr>

  </tbody>
</table>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

<script>
  $('#loadAllEventdata').click(function() {
    $.ajax({
      url: 'http://localhost:8080/APP1_war_exploded/event',
      dataType: 'json',
      success: function(resp) {
        console.log(resp);
        const tableBody = $('#eventTable tbody');
        tableBody.empty(); // Clear existing rows
        resp.forEach(event => {
          const row = `<tr>
          <td>${event.eid}</td>
          <td>${event.ename}</td>
          <td>${event.ediscription}</td>
          <td>${event.edate}</td>
          <td>${event.eplace}</td>
        </tr>`;
          tableBody.append(row);
        });
      },
      error: function(err) {
        console.error('Error fetching data:', err);
      }
    });
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
</body>
</html>